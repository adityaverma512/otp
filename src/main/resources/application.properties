############################################
# Application Basic Settings
############################################
spring.application.name=otp-service
spring.redis.host=localhost
spring.redis.port=6379
server.port=8080

############################################
# OTP Configuration
############################################
otp.length=6
otp.expirySeconds=180

# Resend Settings
otp.resend.cooldownSeconds=30
otp.resend.generateNewOtp=true

# Security Settings
otp.security.hashAlgorithm=SHA-256
otp.security.useHashing=true

# System Settings
otp.origSystem=appexp
otp.defaultLocale=US

############################################
# Validation Settings
############################################
validation.email.pattern=^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+\\.[A-Za-z]{2,}$
validation.email.maxLength=254

validation.phone.pattern=^[+]?[0-9]{10,15}$
validation.phone.minLength=10
validation.phone.maxLength=15

validation.otp.pattern=^[0-9]{6}$
validation.otp.length=6

validation.name.pattern=^[A-Za-z ]{1,100}$
validation.name.maxLength=100

############################################
# Circuit Breaker Configuration
############################################
resilience4j.circuitbreaker.instances.salesforceClient.registerHealthIndicator=true
resilience4j.circuitbreaker.instances.salesforceClient.slidingWindowSize=10
resilience4j.circuitbreaker.instances.salesforceClient.minimumNumberOfCalls=5
resilience4j.circuitbreaker.instances.salesforceClient.permittedNumberOfCallsInHalfOpenState=3
resilience4j.circuitbreaker.instances.salesforceClient.automaticTransitionFromOpenToHalfOpenEnabled=true
resilience4j.circuitbreaker.instances.salesforceClient.waitDurationInOpenState=30s
resilience4j.circuitbreaker.instances.salesforceClient.failureRateThreshold=50

resilience4j.circuitbreaker.instances.salesforceClient.recordExceptions[0]=java.util.concurrent.TimeoutException
resilience4j.circuitbreaker.instances.salesforceClient.recordExceptions[1]=java.net.ConnectException
resilience4j.circuitbreaker.instances.salesforceClient.recordExceptions[2]=com.example.otp.exception.SalesforceServiceException

resilience4j.circuitbreaker.instances.salesforceClient.ignoreExceptions[0]=com.example.otp.exception.ValidationException

############################################
# Salesforce Configuration
############################################
# Toggle between simulation and real Salesforce
salesforce.simulation.enabled=false
salesforce.simulation.failure-rate=0.0
salesforce.simulation.delay-ms=1000
salesforce.simulation.timeout-ms=3000

# JWT Authentication
#salesforce.auth.jwt-signing-secret=r3FuyMxJzV9b@nurZdYRr7rpU6Qb4xRHwGDrSH-zp8YfbzKz_DCDAiUgZm9toMhTjT4amRcwXTTMhkFAuzuYju5x96NkEJAe-5050063Q7VCow3XTyAwdcGYgx3wC gxP9PLFrgAXrwJKZhR1YKJeT9Dbs6nDMMO1ZPwcEfX0hu7Eyc74qSdpD7W-1MPvp7C-2RjgdHqux44QAS2ZL2G9atVv9gvbxVZMKXxMaC51vi7K-dooh1S1ALALHO
#salesforce.auth.client-id=ye9z4efza2naawwwnx2awnyb
#salesforce.auth.client-secret=1ZZtyacSPhTPaQzsvwGwh1GR
#salesforce.auth.authentication-uri=https://mc3rmpln-hqhlqq5y108tcz8mb-q.auth.marketingcloudapis.com/v2/token
salesforce.auth.token-expiry-seconds=3600

# API Endpoints
#salesforce.api.rest-uri=https://mc3rmp1n-hqhlqq5y108tcz8mb-q.rest.marketingcloudapis.com/
#salesforce.api.soap-uri=https://mc3rmpln-hqhlqq5y108tcz8mb-q.soap.marketingcloudapis.com/
salesforce.api.timeout=5000
salesforce.api.connection-timeout=3000

sfmc.client.id=h156cs5suu72572v9vet1026
sfmc.client.secret=cA8itqpPPEgL2s1Rg6d1zB5z
sfmc.token.url=https://mc3rmpln-hqhlqq5y108tcz8mb-q.auth.marketingcloudapis.com/v2/token
sfmc.auth.granttype=client_credentials
salesforce.api.rest-uri=https://mc3rmpln-hqhlqq5y108tcz8mb-q.rest.marketingcloudapis.com/interaction/v1/events

# OTP API Keys (UAT)
salesforce.otp.sms-api-key=82305484-F887-4007-9113-935DF89016F8
salesforce.otp.email-api-key=29920BBC-7F2F-424B-8488-C6BBE7AD211B

############################################
# Azure Service Bus Simulation
############################################
azure.servicebus.simulation.enabled=true
azure.servicebus.simulation.queue-name=otp-notification-queue
azure.servicebus.connection-string=Endpoint=sb://...
azure.servicebus.queue-name=otp-notifications

# Sanitization Settings
validation.sanitization.dangerousCharsPattern=['\";`<>]